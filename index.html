<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>


</head>
<body>
    <div class="container">
        <div class="row">
            <h2 class="text-align-center">Demo Javascript</h2>
            <div class="col-md-12">
                <form action="">
                    <label>Search Product By Id</label><br>
                    <input type="text" name="" id="inputID">
                    <button type="button" onclick="searchProductByID()" class="btn btn-primary " id="searchProduct">Search Product</button>
                </form>
            </div>
            <div class="col-md-12">
                <form action="">
                    <label>Search Product By Type</label><br>
                    <input type="text" name=""  id="inputType">
                    <button type="button" class="btn btn-primary" onclick="searchProductType()">Search Type</button>
                </form>
            </div>
            <div class="col-md-12">
                <form action="">
                    <label>Search Product By Price</label><br>
                    <input type="text" name=""  id="inputPrice">
                    <button type="button" class="btn btn-primary" onclick="searchProductPrice()">Search Price</button>
                </form>
            </div>
        </div>
        <div class="col-md-12">
            <p id="idPr"></p>
            <p id="pricePr"></p>
            <p id="typePr"></p>
        </div>
        <h3>List of similar product</h3>
        <div id="showDataSearch">
            
        </div>
        <p id="inform" style="color: red; text-align: center"></p>
        <h3>List of products</h3>
        <div id="showdata">
            
        </div>
    </div>
</body>
<script>
    
        var myProducts = [
            {
                "Product ID": "1",
                "Type": "Book",
                "Price": 12000,
               
            },
            {
                "Product ID": "2",
                "Type": "Pen",
                "Price": 23454,
               
            },
            {
                "Product ID": "3",
                "Type": "Book",
                "Price": 2000,
               
            },
            {
                "Product ID": "4",
                "Type": "Pen",
                "Price":5000,
               
            },
            {
                "Product ID": "5",
                "Type": "Pencil",
                "Price": 3450,
               
            },
            {
                "Product ID": "6",
                "Type": "Clothing",
                "Price": 5000,
               
            },
            {
                "Product ID": "7",
                "Type": "Hat",
                "Price": 5500,
               
            },
           
        ]
        // EXTRACT VALUE FOR HTML HEADER. 
        // ('Product ID', 'Type', 'Price' and 'Examine')
        $(document).ready(function() { /* code here */ });
        $(function() {
        var col = [];
        for (var i = 0; i < myProducts.length; i++) {
            for (var key in myProducts[i]) {
                if (col.indexOf(key) === -1) {
                    col.push(key);
                }
            }
        }

        // tạo bảng
        var table = document.createElement("table");
        table.className="table table-bordered table-hover";

        // tạo header table cho tab.

        var tr = table.insertRow(-1);                   // TABLE ROW.
        
        for (let i = 0; i < col.length; i++) {
            var th = document.createElement("th");      // TABLE HEADER.
            th.innerHTML = col[i];
            tr.appendChild(th);
        }
        let cell = document.createElement("td");
        cell.innerHTML="Examine";
        tr.appendChild(cell);
         // Thêm dữ liệu từ Json vào bảng
         for (let i = 0; i < myProducts.length; i++) {
            tr = table.insertRow(-1); 
            for (var j = 0; j < col.length; j++) {
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = myProducts[i][col[j]];
            }
            let button = document.createElement("button")
            button.innerHTML = "Examine";
            button.addEventListener("click", () => {
                console.log(i);
                document.getElementById("idPr").innerHTML="Examined Product: " + myProducts[i]["Product ID"];
                document.getElementById("pricePr").innerHTML="Price: " + myProducts[i]["Price"];
                document.getElementById("typePr").innerHTML="Type: " +myProducts[i]["Type"];
            })
            tr.appendChild(button)
            button.className="btn btn-primary"; 
        }

        // hiên thị thông tin ra bảng.
        var divShowData = document.getElementById("showdata");
        divShowData.innerHTML = "";
        divShowData.appendChild(table);
        
        });

        //search by ID
        function searchProductByID(){
            var id_product = document.getElementById("inputID").value;
            var col = [];
            for (var i = 0; i < myProducts.length; i++) {
                for (var key in myProducts[i]) {
                    if (col.indexOf(key) === -1) {
                        col.push(key);
                    }
                }
            }
        

        // tạo bảng
        var table = document.createElement("table");
        table.className="table table-bordered table-hover";

        // tạo header table cho tab.

        var tr = table.insertRow(-1);                   // TABLE ROW.

        for (let i = 0; i < col.length; i++) {
            var th = document.createElement("th");      // TABLE HEADER.
            th.innerHTML = col[i];
            tr.appendChild(th);
        }
        let cell = document.createElement("td");
        cell.innerHTML="Examine";
        tr.appendChild(cell);
         // Thêm dữ liệu từ Json vào bảng
         var count =0;
        for (let i = 0; i < myProducts.length; i++) {
            if(myProducts[i]["Product ID"]==id_product){  
            count ++;   
            tr = table.insertRow(-1);
                for (var j = 0; j < col.length; j++) { 
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = myProducts[i][col[j]];
                }
                let button = document.createElement("button")
                button.innerHTML = "Examine";
                button.addEventListener("click", () => {
                console.log(myProducts[i]["Product ID"]);
                document.getElementById("idPr").innerHTML="Examined Product: " + myProducts[i]["Product ID"];
                document.getElementById("pricePr").innerHTML="Price: " + myProducts[i]["Price"];
                document.getElementById("typePr").innerHTML="Type: " +myProducts[i]["Type"];
            })
            tr.appendChild(button)
            button.className="btn btn-primary";    
            }
        }

        // hiên thị thông tin ra bảng.
        var divShowData = document.getElementById("showDataSearch");
        divShowData.innerHTML = "";
        if(count==0){
            document.getElementById("inform").innerHTML="No result";
        }
        else
        divShowData.appendChild(table);
        }

        //search by type
        function searchProductType(){
            var type = document.getElementById("inputType").value;
            var col = [];
            for (var i = 0; i < myProducts.length; i++) {
                for (var key in myProducts[i]) {
                    if (col.indexOf(key) === -1) {
                        col.push(key);
                    }
                }
            }
        

        // tạo bảng
        var table = document.createElement("table");
        table.className="table table-bordered table-hover";

        // tạo header table cho tab.

        var tr = table.insertRow(-1);                   // TABLE ROW.

        for (let i = 0; i < col.length; i++) {
            var th = document.createElement("th");      // TABLE HEADER.
            th.innerHTML = col[i];
            tr.appendChild(th);
        }
        let cell = document.createElement("td");
        cell.innerHTML="Examine";
        tr.appendChild(cell);
         // Thêm dữ liệu từ Json vào bảng
        var count =0;
        for (let i = 0; i < myProducts.length; i++) {
            if(myProducts[i]["Type"]==type){  
            count ++;   
            tr = table.insertRow(-1);
                for (var j = 0; j < col.length; j++) { 
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = myProducts[i][col[j]];
                }
                let button = document.createElement("button")
                button.innerHTML = "Examine";
                button.addEventListener("click", () => {
                console.log(myProducts[i]["Product ID"]);
               document.getElementById("idPr").innerHTML="Examined Product: " + myProducts[i]["Product ID"];
                document.getElementById("pricePr").innerHTML="Price: " + myProducts[i]["Price"];
                document.getElementById("typePr").innerHTML="Type: " +myProducts[i]["Type"];
            })
            tr.appendChild(button)
            button.className="btn btn-primary";    
            }
            
        }

        // hiên thị thông tin ra bảng.
        var divShowData = document.getElementById("showDataSearch");
        divShowData.innerHTML = "";
        if(count==0){
            document.getElementById("inform").innerHTML="No result";
        }
        else
        divShowData.appendChild(table);
        }

        //search by price
        function searchProductPrice(){
            var price = document.getElementById("inputPrice").value;
            var col = [];
            for (var i = 0; i < myProducts.length; i++) {
                for (var key in myProducts[i]) {
                    if (col.indexOf(key) === -1) {
                        col.push(key);
                    }
                }
            }
        

        // tạo bảng
        var table = document.createElement("table");
        table.className="table table-bordered table-hover";

        // tạo header table cho tab.

        var tr = table.insertRow(-1);                   // TABLE ROW.

        for (let i = 0; i < col.length; i++) {
            var th = document.createElement("th");      // TABLE HEADER.
            th.innerHTML = col[i];
            tr.appendChild(th);
        }
        let cell = document.createElement("td");
        cell.innerHTML="Examine";
        tr.appendChild(cell);
         // Thêm dữ liệu từ Json vào bảng
         var count =0;
        for (let i = 0; i < myProducts.length; i++) {
            if(myProducts[i]["Price"]>=parseInt(price)-50 && myProducts[i]["Price"]<=parseInt(price)+100){
                count++;      
                tr = table.insertRow(-1);
                    for (var j = 0; j < col.length; j++) { 
                    var tabCell = tr.insertCell(-1);
                    tabCell.innerHTML = myProducts[i][col[j]];
                }
                let button = document.createElement("button")
                button.innerHTML = "Examine";
                button.addEventListener("click", () => {
                console.log(i);
                document.getElementById("idPr").innerHTML=myProducts[i]["Product ID"];
                document.getElementById("pricePr").innerHTML=myProducts[i]["Price"];
                document.getElementById("typePr").innerHTML=myProducts[i]["Type"];
            })
            tr.appendChild(button)
            button.className="btn btn-primary"; 
            }
        }
        // hiên thị thông tin ra bảng.
        var divShowData = document.getElementById("showDataSearch");
        divShowData.innerHTML = "";
        if(count==0){
            document.getElementById("inform").innerHTML="No result";
        }
        else
        divShowData.appendChild(table);
        }
</script>
</html>